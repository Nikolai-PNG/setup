(()=>{"use strict";var e={5186:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.protectPage=void 0;t.protectPage=async(e,t,o,n,r=!0)=>{const l=(n=n||window)?n.document.body:document.body,c=r?"":"_standard";l.addEventListener("contextmenu",e=>{e.preventDefault()});const a=n===window.parent;var s=null,i=!1,d=!1;const u=()=>{y(),l.innerHTML="",h("The extension has been uninstalled which is not permitted."),setTimeout(()=>{n.location.href=n.origin},4e3)},y=()=>{const e=document.cookie.split(";");for(let t=0;t<e.length;t++){const o=e[t],n=o.indexOf("=");let r=n>-1?o.substr(0,n):o;document.cookie=r+="=;expires=Thu, 01 Jan  1970 00:00:00 GMT;path=/"}},m=async()=>{try{const t=await navigator.clipboard.read();t[0]&&t[0].types.includes("image/png")&&(await navigator.clipboard.writeText(" "),i=!0,e&&h(e.screenshot_warning),chrome.runtime.sendMessage("screenshotdetected",t=>{t.screenshotCount>1&&(d=!0,e&&h(e.screenshot_exit))}))}catch(e){}},p=async(e,t)=>{if(t&&n.location.href.includes(t)){if("granted"===(await navigator.permissions.query({name:"clipboard-write"})).state&&(await(async()=>{for(let e=1;e<15;e++)try{await new Promise(t=>{setTimeout(async()=>{await navigator.clipboard.writeText(" ".repeat(e)),t(null)},300)})}catch(e){}})(),e)){await navigator.permissions.query({name:"clipboard-read"})&&setInterval(m,3e3)}}},h=e=>{s&&s.remove(),(s=document.createElement("div")).style.backgroundColor="rgb(239, 239, 239)",s.style.position="fixed",s.style.width="100%",s.style.top="0",s.style.left="0",s.style.zIndex="3000",s.style.height="100%";const t=document.createElement("p");t.style.textAlign="left",t.style.position="absolute",t.style.top="200px",t.style.left="40px",t.style.fontFamily="verdana",t.style.fontSize="24px",t.style.wordWrap="break-word",t.style.whiteSpace="normal",t.style.color="black",t.style.lineHeight="1",e&&(t.innerHTML=e),s.appendChild(t),l.appendChild(s)},f=()=>{s&&!d&&(s.remove(),s=null)},v=(t,o,n)=>{"focuslost"===t.action&&e&&h(e[`focus_lost_warning${c}`]),"focuslostlimit"===t.action&&e&&(h(e[`focus_lost_exit${c}`]),d=!0),"displaychange"===t.action&&e&&(h(e.secondary_display_exit),d=!0),"protectpagesignalcheck"===t.action&&n("response")},w=t=>{"showoverlay"===t.data&&h(),"hideoverlay"===t.data&&f(),"showoverlay-ctrlalt"===t.data&&e&&h(e.ctrl_alt_shift_warning)};l.addEventListener("keydown",t=>{!t.ctrlKey||t.shiftKey||t.altKey||i||(a?h():window.parent.postMessage("showoverlay","*")),t.ctrlKey&&t.shiftKey&&(t.preventDefault(),i=!0,a&&e?h(e.ctrl_alt_shift_warning):window.parent.postMessage("showoverlay-ctrlalt","*")),t.ctrlKey&&t.altKey&&(t.preventDefault(),i=!0,a&&e?h(e.ctrl_alt_shift_warning):window.parent.postMessage("showoverlay-ctrlalt","*")),(t.ctrlKey||t.metaKey)&&"p"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"s"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"w"===t.key&&t.preventDefault(),!t.ctrlKey&&!t.metaKey||"h"!==t.key&&"j"!==t.key||t.preventDefault(),!t.ctrlKey&&!t.metaKey||"k"!==t.key&&"l"!==t.key||t.preventDefault(),!t.ctrlKey&&!t.metaKey||"t"!==t.key&&"n"!==t.key||t.preventDefault(),(t.ctrlKey||t.metaKey)&&"d"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"u"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"o"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"f"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"r"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&"Tab"===t.key&&t.preventDefault(),(t.ctrlKey||t.metaKey)&&/^[1-9]$/.test(t.key)&&t.preventDefault(),"F12"===t.key&&t.preventDefault(),"Escape"===t.key&&(i=!1,a?f():window.parent.postMessage("hideoverlay","*"))}),l.addEventListener("keyup",e=>{"Control"!==e.key||i||i||(a?f():window.parent.postMessage("hideoverlay","*"))}),a&&(n.addEventListener("message",w),chrome.runtime.onMessage.addListener(v)),l.addEventListener("contextmenu",e=>{e.preventDefault()}),t&&p(a,o),setInterval(()=>{chrome.runtime.id||u()},5e3),history.pushState(null,"",location.href),n.onpopstate=()=>{history.go(1)}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}(()=>{const e=o(5186);chrome.runtime.onMessage.addListener((e,t,o)=>{"essayblockersignalcheck"===e.action&&o({action:"injected"})});const t=()=>{const t=[],o=()=>{const o=document.querySelectorAll(".tox-mbtn__select-label");for(const e of o)"View"===e.innerHTML&&e.remove(),"Insert"===e.innerHTML&&e.remove(),"Tools"===e.innerHTML&&e.remove();const n=document.querySelectorAll(".tox-editor-container");for(const o of n){const n=o.querySelector("iframe");n?.contentWindow&&!1===t.includes(n?.contentWindow)&&((0,e.protectPage)(null,!1,null,n.contentWindow),t.push(n.contentWindow))}document.querySelectorAll("button[title='Links']").forEach(e=>{e.remove()}),document.querySelectorAll("button[title='Images']").forEach(e=>{e.remove()}),document.querySelectorAll("button[title='Record/Upload Media']").forEach(e=>{e.remove()}),document.querySelectorAll("button[title='Documents']").forEach(e=>{e.remove()}),document.querySelectorAll("#plug-apps-button").forEach(e=>{e.remove()})};o(),setInterval(()=>{o()},2e3)};chrome.runtime.sendMessage({action:"getlmstype"},o=>{"moodle"===o.lmsType&&(()=>{const t=[],o=()=>{document.querySelectorAll("[aria-label='Build with TinyMCE']").forEach(e=>e.remove()),document.querySelectorAll("[aria-label='Source code']").forEach(e=>e.remove()),document.querySelectorAll("[aria-label='Link']").forEach(e=>e.remove()),document.querySelectorAll(".tox-editor-container").forEach(async o=>{await new Promise(e=>setTimeout(()=>e(null),500));const n=o.querySelector("iframe")?.contentWindow;n&&!1===t.includes(n)&&((0,e.protectPage)(null,!1,null,n),t.push(n))})};o(),new MutationObserver(e=>{for(const t of e)"childList"===t.type&&o()}).observe(document,{subtree:!0,childList:!0})})(),"d2l"===o.lmsType&&(()=>{const t=[],o=()=>{const o=["d2l-quicklink","d2l-isf","d2l-image","d2l-source-code"];document.querySelectorAll("d2l-htmleditor").forEach(n=>{const r=n.shadowRoot?.querySelector("iframe");if(r){const o=r.contentWindow;o&&!1===t.includes(o)&&((0,e.protectPage)(null,!1,null,o),t.push(o))}const l=n.shadowRoot?.querySelector("d2l-htmleditor-toolbar"),c=l.shadowRoot?.querySelector(".d2l-htmleditor-toolbar-container");c?.querySelector("d2l-htmleditor-menu-item[cmd='d2l-image']")?.remove(),l.shadowRoot?.querySelectorAll("d2l-htmleditor-button").forEach(e=>{const t=e.getAttribute("cmd");t&&o.includes(t)&&e.remove()});const a=n.shadowRoot?.querySelector("d2l-htmleditor-context-menu"),s=a?.querySelector("d2l-htmleditor-link-display-context-menu");s?.shadowRoot?.querySelector("d2l-htmleditor-context-menu-link-actions")?.shadowRoot?.querySelector("d2l-htmleditor-link-button")?.remove(),l.shadowRoot?.querySelector("[cmd='d2l-isf']")?.remove(),l.shadowRoot?.querySelector("[cmd='d2l-quicklink']")?.remove()})};o(),setInterval(()=>{o()},2e3)})(),"canvasclassic"===o.lmsType&&t(),"canvasnew"===o.lmsType&&t(),"blackboardog"===o.lmsType&&(()=>{const e=()=>{const e=document.querySelectorAll(".tox-tinymce");for(const t of e)t.querySelector("button[title='Add content']")?.remove(),t.querySelector("button[title='Insert/edit link']")?.remove(),t.querySelector("button[title='Add content']")?.remove(),t.querySelector(".tox-statusbar__branding")?.remove();const t=document.querySelectorAll(".tox-dialog__body-nav-item");for(const e of t)e.textContent?.includes("Plugins")&&e.remove(),e.textContent?.includes("Version")&&e.remove()};e(),new MutationObserver(t=>{for(const o of t)"childList"===o.type&&e()}).observe(document,{subtree:!0,childList:!0})})(),"schoology"===o.lmsType?(()=>{const e=()=>{const e=document.querySelectorAll(".essay-wrapper");for(const t of e)t.querySelector(".mce_sContentImage")?.remove()};e(),setInterval(()=>{e()},2e3);const t=()=>{const e=document.querySelectorAll(".lrn_texteditor_editable");for(const t of e){const e=t.querySelectorAll("a");for(const t of e)t.outerHTML=t.textContent}};new MutationObserver(e=>{for(const o of e)"childList"===o.type&&t()}).observe(document,{subtree:!0,childList:!0})})():(()=>{const t=[];setInterval(()=>{const o=document.querySelectorAll(".tox-edit-area__iframe");for(const n of o)n?.contentWindow&&!1===t.includes(n?.contentWindow)&&(t.push(n.contentWindow),(0,e.protectPage)(null,!1,null,n.contentWindow))},2e3)})()})})()})();